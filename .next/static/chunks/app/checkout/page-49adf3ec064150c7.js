(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[279],{709:(e,t,a)=>{Promise.resolve().then(a.bind(a,3167))},3167:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var s=a(3365),r=a(1521),l=a(5840),d=a(4090),c=a(5008);let i=()=>{let[e,t]=(0,r.useState)([]),[a,i]=(0,r.useState)(""),[n,o]=(0,r.useState)(""),[m,u]=(0,r.useState)("Credit Card"),[h,x]=(0,r.useState)(!1),[p,b]=(0,r.useState)(!1),[y,g]=(0,r.useState)(!1),j=(0,l.useRouter)();(0,r.useEffect)(()=>{b(!0)},[]),(0,r.useEffect)(()=>{(async()=>{t(JSON.parse(localStorage.getItem("cart"))||[])})()},[]);let f=async e=>{try{let t=(0,c.rJ)(d.db,"orders");await (0,c.gS)(t,e)}catch(e){console.error("Error saving order to Firestore:",e)}},N=async s=>{s.preventDefault(),x(!0);let r={customerName:a,address:n,paymentMethod:m,items:e,totalPrice:e.reduce((e,t)=>e+t.price*t.quantity/100,0),status:"Pending",createdAt:new Date};await f(r),localStorage.removeItem("cart"),t([]),x(!1),g(!0),setTimeout(()=>{g(!1),j.push("/products")},3e3)};return p?(0,s.jsxs)("div",{className:"min-h-screen bg-gray-200 p-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-semibold text-center text-gray-800 mb-8",children:"Checkout"}),y&&(0,s.jsx)("div",{className:"fixed top-0 left-0 right-0 z-50 p-4 bg-green-500 text-white text-center text-lg rounded-lg shadow-lg animate__animated animate__fadeIn animate__fast",children:"Order Confirmed! Thank you for your purchase. You will be redirected shortly."}),(0,s.jsxs)("form",{onSubmit:N,className:"bg-white p-6 rounded-lg shadow-md",children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"name",className:"block text-gray-700 mb-2",children:"Full Name"}),(0,s.jsx)("input",{type:"text",id:"name",value:a,onChange:e=>i(e.target.value),className:"w-full p-2 border rounded-md",required:!0})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"address",className:"block text-gray-700 mb-2",children:"Shipping Address"}),(0,s.jsx)("input",{type:"text",id:"address",value:n,onChange:e=>o(e.target.value),className:"w-full p-2 border rounded-md",required:!0})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"payment",className:"block text-gray-700 mb-2",children:"Payment Method"}),(0,s.jsxs)("select",{id:"payment",value:m,onChange:e=>u(e.target.value),className:"w-full p-2 border rounded-md",children:[(0,s.jsx)("option",{value:"Credit Card",children:"Credit Card"}),(0,s.jsx)("option",{value:"PayPal",children:"PayPal"})]})]}),(0,s.jsxs)("div",{className:"mb-4 text-slate-950",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"Order Summary"}),(0,s.jsx)("ul",{children:e.map(e=>(0,s.jsxs)("li",{className:"flex justify-between py-2",children:[(0,s.jsx)("span",{children:e.name}),(0,s.jsxs)("span",{children:["$",(e.price/100).toFixed(2)," x ",e.quantity]})]},e.id))}),(0,s.jsxs)("div",{className:"mt-4 flex justify-between",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Total:"}),(0,s.jsxs)("span",{children:["$",e.reduce((e,t)=>e+t.price*t.quantity/100,0).toFixed(2)]})]})]}),(0,s.jsx)("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 px-4 rounded-md mt-4",disabled:h,children:h?"Processing...":"Place Order"})]})]}):null}},4090:(e,t,a)=>{"use strict";a.d(t,{db:()=>n,j:()=>i});var s=a(6106),r=a(9683),l=a(5008),d=a(83);let c=(0,s.Wp)({apiKey:"AIzaSyD80VUVDchTmFKmt0PDWE3Hc6Uqs9Drdqo",authDomain:"ecommerce-store-297c4.firebaseapp.com",projectId:"ecommerce-store-297c4",appId:"ecommerce-store-297c4"}),i=(0,r.xI)(c),n=(0,l.aU)(c);(0,d.c7)(c)},5840:(e,t,a)=>{"use strict";var s=a(8704);a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}})}},e=>{var t=t=>e(e.s=t);e.O(0,[779,665,171,347,239,358],()=>t(709)),_N_E=e.O()}]);