(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[575],{7699:(e,r,a)=>{Promise.resolve().then(a.bind(a,3404))},3404:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>s});var t=a(3365),d=a(1521),l=a(4090),o=a(5008);let s=()=>{let[e,r]=(0,d.useState)([]),[a,s]=(0,d.useState)({name:"",price:0,description:"",imageUrl:""}),[i,c]=(0,d.useState)(null);(0,d.useEffect)(()=>{(async()=>{r((await (0,o.GG)((0,o.rJ)(l.db,"products"))).docs.map(e=>({id:e.id,...e.data()})))})()},[]);let n=async()=>{if(!a.name.trim()||!a.imageUrl.trim()){alert("Please provide valid product details.");return}try{let t=await (0,o.gS)((0,o.rJ)(l.db,"products"),a);r([...e,{id:t.id,...a}]),s({name:"",price:0,description:"",imageUrl:""}),alert("Product added!")}catch(e){console.error("Error adding product:",e),alert("Failed to add product.")}},p=async a=>{try{await (0,o.kd)((0,o.H9)(l.db,"products",a)),r(e.filter(e=>e.id!==a)),alert("Product deleted!")}catch(e){console.error("Error deleting product:",e),alert("Failed to delete product.")}},u=async()=>{if(!i.name.trim()||!i.imageUrl.trim()){alert("Please provide valid product details.");return}try{let a=(0,o.H9)(l.db,"products",i.id);await (0,o.mZ)(a,i),r(e.map(e=>e.id===i.id?i:e)),c(null),alert("Product updated!")}catch(e){console.error("Error updating product:",e),alert("Failed to update product.")}};return(0,t.jsxs)("div",{className:"bg-gray-100 py-6 px-4 lg:px-12",children:[(0,t.jsx)("h1",{className:"text-4xl font-semibold mb-8 text-center text-gray-800",children:"Manage Products"}),(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6 mb-8 p-6 bg-white shadow-lg rounded-lg",children:[(0,t.jsx)("input",{type:"text",placeholder:"Product Name",value:a.name,onChange:e=>s({...a,name:e.target.value}),className:"border p-3 rounded-md flex-1"}),(0,t.jsx)("input",{type:"number",placeholder:"Price",value:a.price||0,onChange:e=>{let r=e.target.value,t=r?parseInt(r):0;s({...a,price:t})},className:"border p-3 rounded-md w-1/3"}),(0,t.jsx)("input",{type:"text",placeholder:"Image URL",value:a.imageUrl,onChange:e=>s({...a,imageUrl:e.target.value}),className:"border p-3 rounded-md flex-1"}),(0,t.jsx)("textarea",{placeholder:"Description",value:a.description,onChange:e=>s({...a,description:e.target.value}),className:"border p-3 rounded-md flex-1"}),(0,t.jsx)("button",{onClick:n,className:"bg-green-500 text-white px-6 py-3 rounded-md hover:bg-green-600 transition duration-300",children:"Add Product"})]}),i&&(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6 mb-8 p-6 bg-white shadow-lg rounded-lg",children:[(0,t.jsx)("input",{type:"text",placeholder:"Product Name",value:i.name,onChange:e=>c({...i,name:e.target.value}),className:"border p-3 rounded-md flex-1"}),(0,t.jsx)("input",{type:"number",placeholder:"Price",value:i.price,onChange:e=>c({...i,price:parseInt(e.target.value)}),className:"border p-3 rounded-md w-1/3"}),(0,t.jsx)("input",{type:"text",placeholder:"Image URL",value:i.imageUrl,onChange:e=>c({...i,imageUrl:e.target.value}),className:"border p-3 rounded-md flex-1"}),(0,t.jsx)("textarea",{placeholder:"Description",value:i.description,onChange:e=>c({...i,description:e.target.value}),className:"border p-3 rounded-md flex-1"}),(0,t.jsxs)("div",{className:"flex space-x-4",children:[(0,t.jsx)("button",{onClick:u,className:"bg-blue-500 text-white px-6 py-3 rounded-md hover:bg-blue-600 transition duration-300",children:"Update Product"}),(0,t.jsx)("button",{onClick:()=>c(null),className:"bg-gray-500 text-white px-6 py-3 rounded-md hover:bg-gray-600 transition duration-300",children:"Cancel"})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8",children:e.map(e=>(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition duration-300",children:[(0,t.jsx)("img",{src:e.imageUrl||"/default-placeholder.png",alt:e.name,onError:e=>e.target.src="/default-placeholder.png",className:"w-full h-48 object-cover rounded-t-lg mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-semibold mb-2",children:e.name}),(0,t.jsxs)("p",{className:"text-gray-700 mb-4",children:["$",(e.price/100).toFixed(2)]}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:e.description}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("button",{onClick:()=>c(e),className:"bg-yellow-500 text-white px-4 py-2 rounded-md hover:bg-yellow-600 transition duration-300",children:"Edit"}),(0,t.jsx)("button",{onClick:()=>p(e.id),className:"bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600 transition duration-300",children:"Delete"})]})]},e.id))})]})}},4090:(e,r,a)=>{"use strict";a.d(r,{db:()=>c,j:()=>i});var t=a(6106),d=a(9683),l=a(5008),o=a(83);let s=(0,t.Wp)({apiKey:"AIzaSyD80VUVDchTmFKmt0PDWE3Hc6Uqs9Drdqo",authDomain:"ecommerce-store-297c4.firebaseapp.com",projectId:"ecommerce-store-297c4",appId:"ecommerce-store-297c4"}),i=(0,d.xI)(s),c=(0,l.aU)(s);(0,o.c7)(s)}},e=>{var r=r=>e(e.s=r);e.O(0,[779,665,171,347,239,358],()=>r(7699)),_N_E=e.O()}]);