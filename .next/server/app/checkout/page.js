(()=>{var e={};e.id=279,e.ids=[279],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},55511:e=>{"use strict";e.exports=require("crypto")},14985:e=>{"use strict";e.exports=require("dns")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},73496:e=>{"use strict";e.exports=require("http2")},91645:e=>{"use strict";e.exports=require("net")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},19771:e=>{"use strict";e.exports=require("process")},27910:e=>{"use strict";e.exports=require("stream")},34631:e=>{"use strict";e.exports=require("tls")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},87425:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>l});var s=r(25372),a=r(44931),o=r(24283),i=r.n(o),n=r(64532),c={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);r.d(t,c);let l=["",{children:["checkout",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,12437)),"/home/countzero/Next.js/ecommerce-store/Ecommerce-Store/app/checkout/page.jsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,31077))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,9743)),"/home/countzero/Next.js/ecommerce-store/Ecommerce-Store/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,49033,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,7012,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,83653,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,31077))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/home/countzero/Next.js/ecommerce-store/Ecommerce-Store/app/checkout/page.jsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/checkout/page",pathname:"/checkout",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},6819:(e,t,r)=>{Promise.resolve().then(r.bind(r,12437))},72475:(e,t,r)=>{Promise.resolve().then(r.bind(r,52701))},52701:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(13404),a=r(23877),o=r(83378),i=r(15256),n=r(46684);let c=()=>{let[e,t]=(0,a.useState)([]),[r,c]=(0,a.useState)(""),[l,d]=(0,a.useState)(""),[u,m]=(0,a.useState)("Credit Card"),[p,x]=(0,a.useState)(!1),[h,b]=(0,a.useState)(!1),[f,g]=(0,a.useState)(!1),v=(0,o.useRouter)();(0,a.useEffect)(()=>{b(!0)},[]),(0,a.useEffect)(()=>{(async()=>{t(JSON.parse(localStorage.getItem("cart"))||[])})()},[]);let j=async e=>{try{let t=(0,n.rJ)(i.db,"orders");await (0,n.gS)(t,e)}catch(e){console.error("Error saving order to Firestore:",e)}},y=async s=>{s.preventDefault(),x(!0);let a={customerName:r,address:l,paymentMethod:u,items:e,totalPrice:e.reduce((e,t)=>e+t.price*t.quantity/100,0),status:"Pending",createdAt:new Date};await j(a),localStorage.removeItem("cart"),t([]),x(!1),g(!0),setTimeout(()=>{g(!1),v.push("/products")},3e3)};return h?(0,s.jsxs)("div",{className:"min-h-screen bg-gray-200 p-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-semibold text-center text-gray-800 mb-8",children:"Checkout"}),f&&(0,s.jsx)("div",{className:"fixed top-0 left-0 right-0 z-50 p-4 bg-green-500 text-white text-center text-lg rounded-lg shadow-lg animate__animated animate__fadeIn animate__fast",children:"Order Confirmed! Thank you for your purchase. You will be redirected shortly."}),(0,s.jsxs)("form",{onSubmit:y,className:"bg-white p-6 rounded-lg shadow-md",children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"name",className:"block text-gray-700 mb-2",children:"Full Name"}),(0,s.jsx)("input",{type:"text",id:"name",value:r,onChange:e=>c(e.target.value),className:"w-full p-2 border rounded-md",required:!0})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"address",className:"block text-gray-700 mb-2",children:"Shipping Address"}),(0,s.jsx)("input",{type:"text",id:"address",value:l,onChange:e=>d(e.target.value),className:"w-full p-2 border rounded-md",required:!0})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"payment",className:"block text-gray-700 mb-2",children:"Payment Method"}),(0,s.jsxs)("select",{id:"payment",value:u,onChange:e=>m(e.target.value),className:"w-full p-2 border rounded-md",children:[(0,s.jsx)("option",{value:"Credit Card",children:"Credit Card"}),(0,s.jsx)("option",{value:"PayPal",children:"PayPal"})]})]}),(0,s.jsxs)("div",{className:"mb-4 text-slate-950",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"Order Summary"}),(0,s.jsx)("ul",{children:e.map(e=>(0,s.jsxs)("li",{className:"flex justify-between py-2",children:[(0,s.jsx)("span",{children:e.name}),(0,s.jsxs)("span",{children:["$",(e.price/100).toFixed(2)," x ",e.quantity]})]},e.id))}),(0,s.jsxs)("div",{className:"mt-4 flex justify-between",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Total:"}),(0,s.jsxs)("span",{children:["$",e.reduce((e,t)=>e+t.price*t.quantity/100,0).toFixed(2)]})]})]}),(0,s.jsx)("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 px-4 rounded-md mt-4",disabled:p,children:p?"Processing...":"Place Order"})]})]}):null}},15256:(e,t,r)=>{"use strict";r.d(t,{db:()=>l,j:()=>c});var s=r(34078),a=r(38414),o=r(46684),i=r(93338);let n=(0,s.Wp)({apiKey:"AIzaSyD80VUVDchTmFKmt0PDWE3Hc6Uqs9Drdqo",authDomain:"ecommerce-store-297c4.firebaseapp.com",projectId:"ecommerce-store-297c4",appId:"ecommerce-store-297c4"}),c=(0,a.xI)(n),l=(0,o.aU)(n);(0,i.c7)(n)},12437:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(92944).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/countzero/Next.js/ecommerce-store/Ecommerce-Store/app/checkout/page.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/countzero/Next.js/ecommerce-store/Ecommerce-Store/app/checkout/page.jsx","default")},31077:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(51509);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[816,150,509,285,229],()=>r(87425));module.exports=s})();